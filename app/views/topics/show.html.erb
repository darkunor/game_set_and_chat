<p id="notice"><%= notice %></p>

<p>
  <%= link_to @topic.user.try(:username), @topic.user %>
</p>
<h2>
  <%= @topic.title %>
</h2>
<p>
  <%= @topic.description %>
</p>
<br>

<button><%= link_to "Edit", edit_topic_path(@topic) %></button>
<button><%= link_to "Delete", @topic, :confirm => 'Are you sure?', :method => :delete %></button> 
<button><%= link_to "View All", topics_path %></button>
<%= link_to 'Back', topics_path %>

<h2>Posts</h2>
<% @topic.posts.each do |post| %>
  <article>
    <hr>
    <%= post.user.try(:username) %><br>
    <a id="post<%= post.id %>"><%= post.content %></a>
    <br>
    <br>
    <button><%= link_to 'Edit', edit_post_path(post) %></button>
    <button>quote</button>
    <button><%= link_to 'Delete', post, method: :delete, data: { confirm: 'Are you sure?' } %></button>
  <hr>
  </article>
<% end %><br>


<p>Comment</p>

<%= form_tag("/posts", method: "post") do %>
  <%= hidden_field_tag("user_id", current_user.id) %>
  <%= hidden_field_tag "topic_id", @topic.id %>
  <%= text_area_tag "content" %><br>
  <%= submit_tag %>
<% end %>
